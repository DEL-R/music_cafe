<!DOCTYPE html>
<html lang="fr">
    <head>
        <!-- Google Fonts -->
        <link rel="preconnect" href="https://fonts.googleapis.com/">
        <link rel="preconnect" href="https://fonts.gstatic.com/" crossorigin="">
        <link href="https://fonts.googleapis.com/css2?family=Raleway:wght@400&display=swap" rel="stylesheet">

        <!-- Styles -->
        <link href="./css/hardpixel.css" rel="stylesheet">
        <link href="./css/index.css" rel="stylesheet">
        <link href="./css/player-controls.css" rel="stylesheet">
        <link href="./css/themer.css" rel="stylesheet">

        <!-- Site Icon -->
        <link rel="shortcut icon" type="image/x-icon" href="./assets/img/icon.png">

        <!-- JQuery -->
        <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>

        <!-- Site Meta -->
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Lofi Café</title>
    </head>
    <body>
        <main class="bg container">

            <!-- Top Left Content -->
            <div id="top-left">
                <p class="titletext">
                    <b>8bit Arcade Café ☕</b>
                    <!--- / <a href="#"><u>Credits</u> / <a href="#"><u>About</u>-->
                    <br>
                    <a class="descriptiontext">
                        Appuyez sur le bouton central pour lire/mettre en pause la musique.
                        <br>
                        Utilisez les flèches gauche et droite pour changer de piste.
                        <br>
                        Utilisez les flèches haut et bas pour régler le volume.
                    </a>
                    <br>
                    <br>
                    <a class="descriptiontext">Volume : </a>
                    <a id="volumelevel">100%</a>
                    <br>
                    <div id="playlist-container">
                        <a class="descriptiontext">Playlist : </a>
                        <select id="playlist-selector" title="Sélectionnez une playlist"></select>
                    </div>
                    <a href="#" id="manage-playlists-btn" class="descriptiontext linktext" aria-label="Gérer les playlists">/gérer</a>
                    <br>
                    <a id="song-title" class="song-title-text">Chargement...</a>
                </p>
                <!--input type="image" src="assets/play-icon.svg" onclick="play()" alt="play/pause" class="play">-->
            </div>

            <!-- Centerpiece Content -->
            <div id="centerpiece">
                <div id="clock-wrapper">
                    <button id="controls-icon" aria-label="Lire / Mettre en pause">
                        <svg id="pause-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100" aria-hidden="true">
                            <polygon points="10,0 40,0 40,100 10,100"></polygon><polygon points="60,0 90,0 90,100 60,100"></polygon>
                        </svg>
                        <svg id="play-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100" aria-hidden="true">
                            <polygon points="10,0 90,50 10,100"></polygon>
                        </svg>
                    </button>
                    <div id="clockdisplay" class="clock" onload="showTime()">00:00:00</div>
                </div>
            </div>

            <!-- Bottom Right Content -->
            <div id="bottom-right">
                <div id="theme-selector">
                    <!-- Themes will be populated by themer.js -->
                </div>
            </div>
            <!-- Bottom Left Content -->
            <div id="bottom-left">
                <a class="linktext" href="https://discord.gg/zNCjB9DJ9z" target="_blank" rel="noopener" aria-label="Rejoindre notre Discord">/discord</a>
                &nbsp;&nbsp;
                <a class="linktext" href="https://github.com/mime-r/lofi" target="_blank" rel="noopener" aria-label="Voir le projet sur GitHub">/github</a>
                <!--<input type="image" src="assets\socials\discord.png" class="instagram-icon" onclick="window.open('')">-->
            </div>

            <!-- Player Bar -->
            <div id="player-bar" onclick="event.stopPropagation()">
                <div id="thumbnail-preview">
                    <div id="thumbnail-header">
                        <svg id="channel-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 4c1.93 0 3.5 1.57 3.5 3.5S13.93 13 12 13s-3.5-1.57-3.5-3.5S10.07 6 12 6zm0 14c-2.03 0-4.43-.82-6.14-2.88a9.947 9.947 0 0112.28 0C16.43 19.18 14.03 20 12 20z"></path></svg>
                        <p id="thumbnail-author"></p>
                        <a id="author-link-icon" href="#" target="_blank" rel="noopener"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M10 6v2h2.59L4 16.59 5.41 18 14 9.41V12h2V6h-6z"></path></svg></a>
                    </div>
                    <img id="thumbnail-img" src="" alt="Aperçu de la vidéo" />
                    <div id="thumbnail-info">
                        <p id="thumbnail-title"></p>
                        <a id="thumbnail-link" href="#" target="_blank" rel="noopener">Voir sur YouTube</a>
                    </div>
                </div>
                <div id="controls">
                    <button id="prev-button" class="disabled" aria-label="Piste précédente">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100" aria-hidden="true">
                            <polygon points="0,50 35,0 50,0 50,15 25,50 50,85 50,100 35,100"></polygon>
                            <polygon points="50,50 85,0 100,0 100,15 75,50 100,85 100,100 85,100"></polygon>
                        </svg>
                    </button>
                    <button id="toggle-play-button" aria-label="Lire / Mettre en pause">
                        <svg id="toggle-play-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100" aria-hidden="true">
                            <polygon points="10,0 90,50 10,100"></polygon>
                        </svg>
                        <svg id="loading-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 26.458333 26.458334" aria-hidden="true">
                            <path
                                class="loading-icon-path"
                                d="M 24.340064,13.228665 A 11.112499,11.112 0 0 1 17.480134,23.494815 11.112499,11.112 0 0 1 5.3698412,21.086036 11.112499,11.112 0 0 1 2.9609543,8.9762867 11.112499,11.112 0 0 1 13.227565,2.1166649" />
                        </svg>
                        <svg id="toggle-pause-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100" aria-hidden="true">
                            <polygon points="10,0 40,0 40,100 10,100"></polygon>
                            <polygon points="60,0 90,0 90,100 60,100"></polygon>
                        </svg>
                    </button>
                    <button id="next-button" class="disabled" aria-label="Piste suivante">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100" aria-hidden="true">
                            <polygon points="100,50 65,0 50,0 50,15 75,50 50,85 50,100 65,100"></polygon>
                            <polygon points="50,50 15,0 0,0 0,15 25,50 0,85 0,100 15,100"></polygon>
                        </svg>
                    </button>
                </div>
                <div id="volume-controls">
                    <input type="range" id="volume-slider" min="0" max="100" value="100" title="Curseur de volume" aria-label="Curseur de volume">
                </div>
            </div>
            
            <div id="youtube-player"></div>
            <!-- Credits: https://icons8.com/icon/25627/discord -->
            <!--<i class="gg-play-button"></i>-->
        </main>

        <div id="playlist-modal" class="modal">
          <div class="modal-content">
            <span id="modal-close-btn" class="close-btn">&times;</span>
            <h2>Gérer les Playlists</h2>
            <div class="modal-body">
              <div class="playlist-selection">
                <select id="modal-playlist-selector"></select>
                <button id="create-playlist-btn">Créer</button>
                <button id="delete-playlist-btn">Supprimer</button>
              </div>
              <h3 id="modal-current-playlist-name"></h3>
              <ul id="modal-tracks-ul"></ul>
              <button id="add-track-btn">Ajouter une piste</button>
            </div>
          </div>
        </div>

        <!-- Scripts -->
        <script src="./js/data/songs.js"></script>
        <script src="./js/data/themes.js"></script>
        <script src="./js/preferences.js"></script>
        <script src="https://www.youtube.com/iframe_api"></script>
        <script src="./js/utils.js"></script>
        <script src="./js/toast.js"></script>
        <script src="./js/ui-controls.js"></script>
        <script src="./js/playlist-manager.js"></script>
        <script src="./js/playlist-crud.js"></script>
        <script src="./js/themer.js"></script>
        <script src="./js/player-controller.js?v=1.2"></script> <!-- Main controller, loaded last -->
    </body>
</html>

<!--
    V1.0:
    - Initial Release
    - Added Play/Pause
    - Added Volume Control
    - Added Clock


    New in V2.0:
    - Added Toasts
    - Added Theme Selector
        - Added 1 Theme: "Tropical"
    - Added Socials
        - Added Discord
        - Added Github

    V2.0.7:
    - Fixed the stupid autoplay error >:( i was angry when i wrote this

    V2.1:
    - Added Left and Right arrow key support & buttons for changing tracks.
    - Added Play/Pause button for UI.
    - Updated instructions in UI.

    V2.1.1:
    - Fixed scaling of buttons for mobile/smaller UIs.
    
    V2.1.2:
    - Various bugfixes
    - Added loading icon for when the player is loading a song.
    - Fixed loading icon indefinite scroll on page load.

    Are we back gng?
-->
